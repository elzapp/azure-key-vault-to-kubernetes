{"componentChunkName":"component---node-modules-gatsby-theme-apollo-docs-src-components-template-js","path":"/installation/requirements/","result":{"data":{"site":{"pathPrefix":"","siteMetadata":{"title":"akv2k8s docs","description":"How to get Azure Key Vault objects into Kubernetes"}},"file":{"childMarkdownRemark":{"frontmatter":{"title":"Requirements","description":"Requirements for installing akv2k8s"},"headings":[{"value":"Dedicated namespace for akv2k8s"}],"fields":{"image":"social-cards/requirements.png","graphManagerUrl":""},"htmlAst":{"type":"root","children":[{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Kubernetes version >= 1.17.9"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"A dedicated kubernetes namespace"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Enabled admission controllers: MutatingAdmissionWebhook and ValidatingAdmissionWebhook"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"RBAC enabled"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Default "},{"type":"element","tagName":"a","properties":{"href":"/security/authentication/"},"children":[{"type":"text","value":"authentication"}]},{"type":"text","value":" requires Kubernetes cluster running in Azure - use "},{"type":"element","tagName":"a","properties":{"href":"/security/authentication/"},"children":[{"type":"text","value":"custom authentication"}]},{"type":"text","value":" if running outside Azure"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{"id":"dedicated-namespace-for-akv2k8s","style":"position:relative;"},"children":[{"type":"element","tagName":"a","properties":{"href":"#dedicated-namespace-for-akv2k8s","ariaLabel":"dedicated namespace for akv2k8s permalink","className":["anchor","before"]},"children":[{"type":"element","tagName":"svg","properties":{"ariaHidden":"true","focusable":"false","height":"16","version":"1.1","viewBox":"0 0 16 16","width":"16"},"children":[{"type":"element","tagName":"path","properties":{"fillRule":"evenodd","d":"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"},"children":[]}]}]},{"type":"text","value":"Dedicated namespace for akv2k8s"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Akv2k8s should be installed in a dedicated Kubernetes namespace that is "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"NOT"}]},{"type":"text","value":" label with "},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"azure-key-vault-env-injection: enabled"}]},{"type":"text","value":"."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"If the namespace where the akv2k8s components is installed has the injector enabled ("},{"type":"element","tagName":"code","properties":{"className":["language-text"]},"children":[{"type":"text","value":"azure-key-vault-env-injection: enabled"}]},{"type":"text","value":"), the Env Injector will most likely not be able to start."}]},{"type":"text","value":" This is because the Env Injector mutating webhook will trigger for every pod about to start in namespaces where enabled, and in the home namepsace of the Env Injector, it will effectively point to itself, which does not exist yet."}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"The simple rule to avoid any issues related to this, is to just install akv2k8s components in its own dedicated namespace."}]}]}],"data":{"quirksMode":false}}},"childMdx":null}},"pageContext":{"id":"3b197939-8cab-53ef-aa98-dd640a8f6c78","subtitle":"","versionDifference":0,"versionBasePath":"/vdefault","sidebarContents":[{"title":null,"pages":[{"title":"Overview","description":"Explore Azure Key Vault to Kubernetes","path":"/"},{"title":"Why use akv2k8s?","description":null,"path":"/why-akv2k8s/"},{"title":"Quick Start","description":"Quickly get started using Azure Key Vault to Kubernetes","path":"/quick-start/"},{"title":"How it Works","description":"Learn about the inner workings of akv2k8s.","path":"/how-it-works/"}]},{"title":"Installation","pages":[{"title":"Overview","description":"Different options for installing akv2k8s","path":"/installation/"},{"title":"Requirements","description":"Requirements for installing akv2k8s","path":"/installation/requirements/"},{"title":"Installation with Helm","description":"How to install Azure Key Vault to Kubernetes with Helm","path":"/installation/installing-with-helm/"},{"title":"Installation without Helm","description":"How to setup Azure Key Vault to Kubernetes","path":"/installation/installing-without-helm/"},{"title":"Upgrading  with Helm","description":"How to update Azure Key Vault to Kubernetes with Helm","path":"/installation/updating-with-helm/"}]},{"title":"Tutorials","pages":[{"title":"Tutorials","description":"A quick introduction to the tutorials","path":"/tutorials/"},{"title":"Prerequisites","description":"A quick overview of the prerequisites needed to complete the tutorials","path":"/tutorials/prerequisites/"},{"title":"Sync Secret","description":"Sync a secret from Azure Key Vault into a Kubernetes Secret","path":"/tutorials/sync/1-secret/"},{"title":"Sync Certificate","description":"Sync a certificate from Azure Key Vault into a Kubernetes Secret.","path":"/tutorials/sync/2-certificate/"},{"title":"Sync Signing Key","description":"Sync signing key from Azure Key Vault into a Kubernetes Secret","path":"/tutorials/sync/3-signing-key/"},{"title":"Sync Multi Key Value Secret","description":"Sync a multi-key-value secret from Azure Key Vault into a Kubernetes Secret","path":"/tutorials/sync/4-multi-key-value-secret/"},{"title":"Inject Secret","description":"Inject an Azure Key Vault secret directly into a container application","path":"/tutorials/env-injection/1-secret/"},{"title":"Inject Certificate","description":"Inject an Azure Key Vault certificate key pair directly into a container application","path":"/tutorials/env-injection/2-certificate/"},{"title":"Inject Signing Key","description":"Inject a signing key from Azure Key Vault as environment variable into an application","path":"/tutorials/env-injection/3-signing-key/"},{"title":"Inject PFX Certificate","description":"Inject a PFX certificate from Azure Key Vault as environment variables into an application","path":"/tutorials/env-injection/5-pfx-certificate/"}]},{"title":"Security","pages":[{"title":"Authentication with Azure Key Vault","description":"Learn about the different options for authenticating with Azure Key Vault.","path":"/security/authentication/"},{"title":"Authorization","description":"Learn how to set the proper access rights in Azure Key Vault","path":"/security/authorization/"},{"title":"Enable Environment Injecton","description":"Learn how to enable environment injection per Kubernetes namespace","path":"/security/enable-env-injection/"}]},{"title":"Availability","pages":[]},{"title":"Troubleshooting","pages":[{"title":"Get the akv2k8s Controller Log","description":"How to access the Controller log and specify log level","path":"/troubleshooting/controller-log/"},{"title":"Set env-injector log-level","description":"How to set the log-level for the env-injector","path":"/troubleshooting/env-injector-log-level/"},{"title":"Known Issues","description":"A list of known issues and available solutions or workarounds","path":"/troubleshooting/known-issues/"}]},{"title":"Reference","pages":[{"title":"Reference","description":"Reference of akv2k8s objects","path":"/reference/"},{"title":"AzureKeyVaultSecret","description":"Reference of AzureKeyVaultSecret custom resource definition","path":"/reference/azure-key-vault-secret/"},{"title":"Controller Helm Chart","description":"Azure Key Vault Controller reference","path":"/stable/azure-key-vault-controller/README/"},{"title":"Env-Injector Helm Chart","description":"Azure Key Vault Env-Injector reference","path":"/stable/azure-key-vault-env-injector/README/"}]}],"githubUrl":"https://github.com/sparebankenvest/azure-key-vault-to-kubernetes/tree/master/docs/source/content/installation/requirements.md","spectrumUrl":"","twitterHandle":"","versions":[],"defaultVersion":"default","baseUrl":"https://akv2k8s.io"}},"staticQueryHashes":["1511030359","2468095761","2468095761","426988268","426988268"]}